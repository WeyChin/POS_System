
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - POS_System_Admin</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" />
</head>

<body>
    <div class="container d-flex align-items-center justify-content-center vh-100">
        <main role="main" class="pb-3">
            <div class="card mx-auto">
                <div class="card-body">
                    @if (TempData["ErrorMessage"] != null)
                    {
                        <div class="alert alert-danger" role="alert">
                            @TempData["ErrorMessage"]
                        </div>
                    }
                    <h5 class="card-title">Login</h5>
                    <form id="loginForm" action="Home/ValidateUserLogin" method="post" novalidate>
                        <div class="form-group mt-2 col-md-12">
                            <label for="username">Username</label>
                            <input type="text" class="form-control" id="username" name="userName" placeholder="Enter username" required>
                            <div class="invalid-feedback">Please enter username.</div>
                        </div>
                        <div class="form-group mt-2 col-md-12">
                            <label for="password">Password</label>
                            <input type="password" class="form-control" id="password" name="pass" placeholder="Enter password" required>
                            <div class="invalid-feedback">Please enter username.</div>
                        </div>
                        <button type="submit" class="btn btn-primary mt-2 col-md-12">Submit</button>
                    </form>
                </div>
            </div>
        </main>
    </div>

</body>
</html>

<script>

    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("Username").focus();
        var form = document.getElementById("loginForm");

        form.addEventListener("submit", function (event) {
            if (!form.checkValidity()) {
                event.preventDefault(); // Prevent form submission if validation fails

                Array.from(form.elements).forEach(function (element) {
                    if (!element.checkValidity()) {
                        var errorElement = element.parentNode.querySelector(".invalid-feedback");
                        errorElement.style.display = "block";
                    }
                });
            }
            //} else {
            //    // Validate password
            //    var password = form.querySelector("#exampleInputPassword1").value;
            //    if (!validatePassword(password)) {
            //        event.preventDefault(); // Prevent form submission if password validation fails
            //        var errorElement = form.querySelector("#exampleInputPassword1").parentNode.querySelector(".invalid-feedback");
            //        errorElement.style.display = "block";
            //    }
            //}
        });

        form.addEventListener("input", function (event) {
            var element = event.target;
            var errorElement = element.parentNode.querySelector(".invalid-feedback");
            errorElement.style.display = "none";
        });

        //function validatePassword(password) {
        //    // Regular expression for password validation: Requires at least one capital letter, one number, and one symbol
        //    var passwordPattern = /^(?=.*[A-Z])(?=.*\d)(?=.*[\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E])[A-Za-z\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7E]{8,}$/;
        //    return passwordPattern.test(password);
        //}
    });

</script>
